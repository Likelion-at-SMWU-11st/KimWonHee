{% extends 'base.html' %}
{% block title %}Form{% endblock %}

{% block content %}
<h1>Post 입력 화면</h1>
<!--action의 url 지워줌. update도 create로 날리게 되는 현상(계속 생성됨) 막기 위해.-->
<form action="" method="POST" enctype="multipart/form-data">{% csrf_token %}
    <div> 
        <label for ="id_image">이미지</label>
        {% if post.image %}
        <p>현재: <a href="{{ post.image.url }}">{{ post.image.name }}</a></p>
        <p>변경: <input type="file" name="image" accept="image/*" id="id_image"></p>
        {% else %}
        <input type="file" name="image" accept="image/*" id="id_image">
        {% endif %}
       
    </div>
    <div>
        <label for ="id_content">내용</label>
         <!--textarea 안에 post.content 표시--> 
        <textarea name="content" id="id_content" cols="30" rows="10">{% if post %}{{ post.content }}{% endif %}
        </textarea>
            
    </div>
    <div>
        <input type="submit">
    </div>

</form>
{% endblock %}